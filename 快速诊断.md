# 扩展快速诊断指南

## 立即检查步骤

### 1. 基础检查（5分钟）
```bash
# 在终端中运行以下命令检查文件
cd /Users/fwmh/transition-extension
ls -la
```

应该看到以下文件：
- manifest.json
- background.js  
- content.js
- styles.css
- translation-dict.json

### 2. 浏览器检查（2分钟）
1. 打开Chrome浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择 `/Users/fwmh/transition-extension` 文件夹
6. 确认扩展显示为"已启用"

### 3. 控制台检查（3分钟）
1. 打开测试页面：`file:///Users/fwmh/transition-extension/test_translate.html`
2. 按F12打开开发者工具
3. 查看Console标签，应该看到：
   ```
   文本翻译内容脚本开始执行
   当前页面状态: complete
   翻译工具提示初始化开始
   翻译字典加载成功，包含 XXXX 个条目
   翻译工具提示初始化完成
   ```

## 常见问题快速修复

### 问题1：扩展未显示在列表中
**原因**：文件夹路径错误或manifest.json格式错误
**解决**：
```bash
# 检查manifest.json格式
python3 -m json.tool manifest.json
```

### 问题2：控制台显示"Failed to fetch"
**原因**：translation-dict.json文件路径问题
**解决**：检查web_accessible_resources配置

### 问题3：悬浮时无反应
**原因**：CSS样式被覆盖或事件未绑定
**解决**：使用调试版本测试

## 使用调试版本

如果原版本有问题，可以临时使用调试版本：

1. 将 `debug-manifest.json` 重命名为 `manifest.json`
2. 将 `debug-content.js` 重命名为 `content.js`
3. 重新加载扩展
4. 测试功能

调试版本特点：
- 简化的翻译字典（只包含常用词汇）
- 详细的控制台日志
- 不依赖外部JSON文件
- 更容易排查问题

## 一键测试命令

在终端中运行：
```bash
# 检查所有文件
ls -la /Users/fwmh/transition-extension/

# 验证JSON格式
python3 -m json.tool /Users/fwmh/transition-extension/manifest.json

# 检查文件大小
du -h /Users/fwmh/transition-extension/translation-dict.json
```

## 预期结果

正常工作时应该看到：
1. 扩展在chrome://extensions/中显示为"已启用"
2. 测试页面控制台无错误信息
3. 鼠标悬浮英文文本时显示黑色提示框
4. 提示框内容为对应的中文翻译

## 如果仍然不工作

请提供以下信息：
1. 浏览器版本
2. 控制台完整错误信息
3. 扩展加载时的状态截图
4. 测试页面的控制台输出

这样我可以提供更精确的解决方案。
















































